{
    "swagger": "2.0",
    "info": {
        "description": "This service processes blocks from the Money partition and indexes ownership of bills.",
        "title": "Money Partition Indexing Backend API",
        "contact": {},
        "version": "1.0"
    },
    "basePath": "/api/v1",
    "paths": {
        "/balance": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "summary": "Get balance",
                "operationId": "2",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Public key prefixed with 0x",
                        "name": "pubkey",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/backend.BalanceResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/backend.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/fee-credit-bills": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "summary": "Get Fee Credit Bill",
                "operationId": "5",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID of the bill (hex)",
                        "name": "billId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/wallet.Bill"
                        }
                    }
                }
            }
        },
        "/list-bills": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "summary": "List bills",
                "operationId": "1",
                "parameters": [
                    {
                        "type": "string",
                        "example": "0x000000000000000000000000000000000000000000000000000000000000000123",
                        "description": "Public key prefixed with 0x",
                        "name": "pubkey",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 100,
                        "description": "limits how many bills are returned in response",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "response will include bills starting after offset",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/backend.ListBillsResponse"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/backend.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/proof": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "summary": "Get proof",
                "operationId": "3",
                "parameters": [
                    {
                        "type": "string",
                        "description": "ID of the bill (hex)",
                        "name": "bill_id",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/wallet.Bills"
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "schema": {
                            "$ref": "#/definitions/backend.ErrorResponse"
                        }
                    },
                    "404": {
                        "description": "Not Found",
                        "schema": {
                            "$ref": "#/definitions/backend.ErrorResponse"
                        }
                    },
                    "500": {
                        "description": "Internal Server Error"
                    }
                }
            }
        },
        "/round-number": {
            "get": {
                "produces": [
                    "application/json"
                ],
                "summary": "Money partition's latest block number",
                "operationId": "4",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/backend.RoundNumberResponse"
                        }
                    }
                }
            }
        },
        "/transactions": {
            "post": {
                "consumes": [
                    "application/cbor"
                ],
                "summary": "Forward transactions to partition node(s)",
                "operationId": "6",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Sender public key prefixed with 0x",
                        "name": "pubkey",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "CBOR encoded array of TransactionOrders",
                        "name": "transactions",
                        "in": "body",
                        "required": true
                    }
                ],
                "responses": {
                    "202": {
                        "description": "Accepted"
                    }
                }
            }
        }
    },
    "definitions": {
        "backend.BalanceResponse": {
            "type": "object",
            "properties": {
                "balance": {
                    "type": "string",
                    "example": "0"
                }
            }
        },
        "backend.ErrorResponse": {
            "type": "object",
            "properties": {
                "message": {
                    "type": "string"
                }
            }
        },
        "backend.ListBillVM": {
            "type": "object",
            "properties": {
                "id": {
                    "type": "string",
                    "format": "base64",
                    "example": "AAAAAAgwv3UA1HfGO4qc1T3I3EOvqxfcrhMjJpr9Tn4="
                },
                "isDcBill": {
                    "type": "boolean",
                    "example": false
                },
                "txHash": {
                    "type": "string",
                    "format": "base64",
                    "example": "Q4ShCITC0ODXPR+j1Zl/teYcoU3/mAPy0x8uSsvQFM8="
                },
                "value": {
                    "type": "string",
                    "example": "1000"
                }
            }
        },
        "backend.ListBillsResponse": {
            "type": "object",
            "properties": {
                "bills": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/backend.ListBillVM"
                    }
                },
                "total": {
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "backend.RoundNumberResponse": {
            "type": "object",
            "properties": {
                "roundNumber": {
                    "type": "string",
                    "example": "0"
                }
            }
        },
        "types.ClientMetadata": {
            "type": "object",
            "properties": {
                "feeCreditRecordID": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "maxTransactionFee": {
                    "type": "integer"
                },
                "timeout": {
                    "type": "integer"
                }
            }
        },
        "types.GenericChainItem": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "left": {
                    "type": "boolean"
                }
            }
        },
        "types.InputRecord": {
            "type": "object",
            "properties": {
                "block_hash": {
                    "description": "hash of the block",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "hash": {
                    "description": "state hash to be certified",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "previous_hash": {
                    "description": "previously certified state hash",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "round_number": {
                    "description": "transaction system's round number",
                    "type": "integer"
                },
                "sum_of_earned_fees": {
                    "description": "sum of the actual fees over all transaction records in the block",
                    "type": "integer"
                },
                "summary_value": {
                    "description": "summary value to certified",
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "types.Payload": {
            "type": "object",
            "properties": {
                "attributes": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "clientMetadata": {
                    "$ref": "#/definitions/types.ClientMetadata"
                },
                "systemID": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "type": {
                    "type": "string"
                },
                "unitID": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "types.ServerMetadata": {
            "type": "object",
            "properties": {
                "actualFee": {
                    "type": "integer"
                },
                "targetUnits": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    }
                }
            }
        },
        "types.TransactionOrder": {
            "type": "object",
            "properties": {
                "feeProof": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "ownerProof": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "payload": {
                    "$ref": "#/definitions/types.Payload"
                }
            }
        },
        "types.TransactionRecord": {
            "type": "object",
            "properties": {
                "serverMetadata": {
                    "$ref": "#/definitions/types.ServerMetadata"
                },
                "transactionOrder": {
                    "$ref": "#/definitions/types.TransactionOrder"
                }
            }
        },
        "types.TxProof": {
            "type": "object",
            "properties": {
                "blockHeaderHash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "chain": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/types.GenericChainItem"
                    }
                },
                "unicityCertificate": {
                    "$ref": "#/definitions/types.UnicityCertificate"
                }
            }
        },
        "types.UnicityCertificate": {
            "type": "object",
            "properties": {
                "input_record": {
                    "$ref": "#/definitions/types.InputRecord"
                },
                "unicity_seal": {
                    "$ref": "#/definitions/types.UnicitySeal"
                },
                "unicity_tree_certificate": {
                    "$ref": "#/definitions/types.UnicityTreeCertificate"
                }
            }
        },
        "types.UnicitySeal": {
            "type": "object",
            "properties": {
                "hash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "previous_hash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "root_chain_round_number": {
                    "type": "integer"
                },
                "signatures": {
                    "type": "object",
                    "additionalProperties": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    }
                },
                "timestamp": {
                    "type": "integer"
                }
            }
        },
        "types.UnicityTreeCertificate": {
            "type": "object",
            "properties": {
                "sibling_hashes": {
                    "type": "array",
                    "items": {
                        "type": "array",
                        "items": {
                            "type": "integer"
                        }
                    }
                },
                "system_description_hash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "system_identifier": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                }
            }
        },
        "wallet.Bill": {
            "type": "object",
            "properties": {
                "fc_block_number": {
                    "description": "block number when fee credit bill balance was last updated",
                    "type": "string",
                    "example": "0"
                },
                "id": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "is_dc_bill": {
                    "type": "boolean"
                },
                "tx_hash": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "tx_proof": {
                    "$ref": "#/definitions/wallet.Proof"
                },
                "value": {
                    "type": "string",
                    "example": "0"
                }
            }
        },
        "wallet.Bills": {
            "type": "object",
            "properties": {
                "bills": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/wallet.Bill"
                    }
                }
            }
        },
        "wallet.Proof": {
            "type": "object",
            "properties": {
                "txProof": {
                    "$ref": "#/definitions/types.TxProof"
                },
                "txRecord": {
                    "$ref": "#/definitions/types.TransactionRecord"
                }
            }
        }
    }
}